<!-- Pagination -->
<div class="container mt-4">
  <nav>
    <ul class="pagination justify-content-center">
      <li class="page-item disabled">
        <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
      </li>
      <li class="page-item active"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
      <li class="page-item">
        <a class="page-link" href="#">Next</a>
      </li>
    </ul>
  </nav>
</div>

<script>
  function applyDarkMode() {
    let theme = localStorage.getItem('theme') || 'dark';
    document.documentElement.setAttribute('data-bs-theme', theme);
  }

  function toggleDarkMode() {
    let theme = document.documentElement.getAttribute('data-bs-theme');
    let newTheme = theme === 'dark' ? 'light' : 'dark';
    document.documentElement.setAttribute('data-bs-theme', newTheme);
    localStorage.setItem('theme', newTheme);
  }

  document.getElementById('darkModeToggle').addEventListener('click', toggleDarkMode);
  applyDarkMode();

  function showToast(message) {
    document.getElementById('toastMessage').innerText = message;
    let toast = new bootstrap.Toast(document.getElementById('toastNotification'));
    toast.show();
  }

  function showSignUp() {
    document.getElementById('signup-form').style.display = 'block';
    document.getElementById('login-form').style.display = 'none';
    document.getElementById('dashboard').style.display = 'none';
  }

  function showLogin() {
    document.getElementById('login-form').style.display = 'block';
    document.getElementById('signup-form').style.display = 'none';
    document.getElementById('dashboard').style.display = 'none';
  }

  function checkLoginStatus() {
    let username = localStorage.getItem('username');
    if (username) {
      document.getElementById('login-link').style.display = 'none';
      document.getElementById('signup-link').style.display = 'none';
      document.getElementById('logout-link').style.display = 'inline-block';
      document.getElementById('dashboard').style.display = 'block';
      document.getElementById('login-form').style.display = 'none';
      document.getElementById('signup-form').style.display = 'none';
    } else {
      document.getElementById('login-link').style.display = 'inline-block';
      document.getElementById('signup-link').style.display = 'inline-block';
      document.getElementById('logout-link').style.display = 'none';
      document.getElementById('dashboard').style.display = 'none';
      document.getElementById('login-form').style.display = 'block';
    }
  }

  function signUp() {
    let username = document.getElementById('signup-username').value.trim().toLowerCase();
    let password = document.getElementById('signup-password').value.trim();
    
    if (!username || !password) {
      showToast('Please fill in all fields.');
      return;
    }

    let users = JSON.parse(localStorage.getItem('users')) || [];
    
    if (users.some(user => user.username === username)) {
      showToast('Username already exists.');
      return;
    }

    users.push({ username, password });
    localStorage.setItem('users', JSON.stringify(users));

    showToast('Sign-up successful! Please log in.');
    showLogin();
  }

  function logIn() {
    let username = document.getElementById('login-username').value.trim().toLowerCase();
    let password = document.getElementById('login-password').value.trim();

    let users = JSON.parse(localStorage.getItem('users')) || [];
    let user = users.find(user => user.username === username && user.password === password);

    if (user) {
      localStorage.setItem('username', username);
      showToast('Login successful!');
      checkLoginStatus();
    } else {
      showToast('Invalid username or password.');
    }
  }

  function logOut() {
    localStorage.removeItem('username');
    checkLoginStatus();
    showToast('You have been logged out.');
  }

  window.onload = checkLoginStatus;
</script>
